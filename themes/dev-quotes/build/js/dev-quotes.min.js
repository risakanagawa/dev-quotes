!function(t){"use strict";const e={getAjax:function(){t.ajax({method:"get",dataType:"json",url:quotes.rest_url+"wp/v2/posts?filter[orderby]=rand&filter[posts_per_page]=1",success:function(){console.log("request successful")},fail:function(){console.log("request failed")}}).done(function(e){console.log(e[0]),t(".quote-content").html(e[0].content.rendered);const o=e[0]._qod_quote_source_url,u=e[0]._qod_quote_source;o?t(".quote-title").append(`, <a href="${o}">${u}</a>`):u?t(".quote-title").append(", "+u):t(".quote-title").html(e[0].title.rendered),history.pushState(null,null,"/dev-quotes/"+e[0].slug)})},submitQuotes:function(){const e=t("#submit-author").val(),o=t("#submit-quotes").val(),u=t("#submit-place").val(),n=t("#submit-url").val();t.ajax({method:"POST",url:quotes.rest_url+"wp/v2/posts",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",quotes.wpapi_nonce)},data:{title:e,content:o,expcerpt:o,_qod_quote_source:u,_qod_quote_source_url:n,post_status:"draft"},fail:function(){t("#submitform").append("<p>Something went wrong! Sorry!</p>")}}).done(function(e){console.log(e),t("#submitform input").val(""),t("#submitform textarea").val(""),t("#submitform").append("<p>Successfully submitted. Please wait for the approval.</p>")})}};t(".quotes-btn").on("click",function(t){t.preventDefault(),e.getAjax()}),t("#quote_submit").on("click",function(t){t.preventDefault(),e.submitQuotes()}),t(window).on("popstate",function(){window.location.reload()})}(jQuery);